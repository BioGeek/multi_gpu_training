BootStrap: docker
From: pytorch/pytorch:2.4.0-cuda12.4-cudnn9-runtime

%post
    # Install additional Python packages
    pip install --no-cache-dir \
        torchvision==0.19.0 \
        line-profiler==4.1.3 \
        lightning==2.3.3 \
        lightning-bolts==0.7.0

%environment
    export PATH=/opt/conda/bin:$PATH

%runscript
    exec "$@"

%labels
    Author Jeroen Van Goey
    Version 1.0
    Description "Custom Singularity image with PyTorch, torchvision, line_profiler, PyTorch Lightning and Lightning Bolts"
